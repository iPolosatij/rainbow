<!DOCTYPE html>
<html>
<head>
    <title>–ò—Å—Å–ª–µ–¥—É–µ–º —Ü–≤–µ—Ç–∞ —Å–≤–µ—Ç–∞!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            margin: 0;
            padding: 10px;
            background: #1a2a6c;
            color: white;
            min-height: 100vh;
            width: 100vw;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .app-container {
            max-width: 100%;
            margin: 0 auto;
            padding: 5px;
            height: calc(100vh - 20px);
        }

        .main-title {
            text-align: center;
            color: #3498db;
            margin-bottom: 15px;
            font-size: 1.4em;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .content-wrapper {
            display: flex;
            flex-direction: row;
            gap: 10px;
            width: 100%;
            height: calc(100vh - 120px);
        }

        .panel {
            flex: 1;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow-y: auto;
            max-height: 100%;
            scrollbar-width: thin;
            scrollbar-color: #3498db rgba(255, 255, 255, 0.1);
        }

        .panel::-webkit-scrollbar {
            width: 6px;
        }

        .panel::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .panel::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 3px;
        }

        .left-panel {
            border-right: 1px solid rgba(255, 255, 255, 0.2);
        }

        .spectrum {
            width: 100%;
            height: 40px;
            margin: 15px auto;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            background: linear-gradient(to right,
                #8b00ff, #4b0082, #0000ff, #008000,
                #ffff00, #ff7f00, #ff0000);
        }

        .slider-container {
            width: 100%;
            margin: 20px auto;
        }

        input[type="range"] {
            width: 100%;
            height: 30px;
            margin: 10px 0;
        }

        .wavelength-display {
            font-size: 1.2em;
            margin: 15px 0;
            padding: 12px;
            background: rgba(52, 152, 219, 0.3);
            border-radius: 8px;
            text-align: center;
        }

        .color-info {
            margin: 15px 0;
            font-weight: bold;
            font-size: 1.3em;
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.15);
        }

        .explanation {
            background: rgba(52, 152, 219, 0.2);
            padding: 12px;
            border-radius: 8px;
            margin: 12px 0;
            border-left: 4px solid #3498db;
            font-size: 0.95em;
        }

        /* –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –í–û–õ–ù–´ */
        .wave-section {
            margin: 15px 0;
        }

        .wave-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }

        .wave-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .wave-info-item {
            font-size: 0.9em;
            color: #ecf0f1;
        }

        .wave-container-wrapper {
            width: 100%;
            height: 180px;
            margin: 0;
            background: #1a2a6c;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
        }

        #waveCanvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .animation-control {
            text-align: center;
            margin: 10px 0;
        }

        .animation-btn {
            padding: 8px 16px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9em;
            margin: 0 5px;
        }

        .animation-btn:hover {
            background: #2980b9;
        }

        .animation-status {
            text-align: center;
            margin: 10px 0;
            padding: 8px;
            background: rgba(52, 152, 219, 0.2);
            border-radius: 8px;
            font-size: 0.9em;
        }

        .color-labels {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            margin: 15px 0;
        }

        .color-label {
            padding: 8px 4px;
            border-radius: 6px;
            background: rgba(0, 0, 0, 0.3);
            text-align: center;
            font-weight: bold;
            font-size: 0.85em;
            border: 2px solid;
        }

        .fun-fact {
            background: #27ae60;
            padding: 10px;
            border-radius: 8px;
            margin: 12px 0;
            font-style: italic;
            text-align: center;
            font-size: 0.9em;
        }

        h3 {
            color: #f39c12;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .wavelength-markers {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 0.8em;
            color: #bdc3c7;
        }

        .controls-row {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            align-items: center;
        }

        .wavelength-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #3498db;
            min-width: 80px;
            text-align: center;
        }

        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            margin: 0 auto;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .info-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 0.9em;
        }

        @media (max-width: 900px) {
            .content-wrapper {
                flex-direction: column;
                height: auto;
            }

            .panel {
                min-height: auto;
                margin-bottom: 10px;
            }

            .color-labels {
                grid-template-columns: repeat(6, 1fr);
            }

            .wave-container-wrapper {
                height: 160px;
            }
        }

        @media (max-width: 600px) {
            .color-labels {
                grid-template-columns: repeat(3, 1fr);
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .wave-container-wrapper {
                height: 140px;
            }
        }
    </style>
</head>
<body>
<div class="app-container">
    <h1 class="main-title">üåà –ù–∞—É—á–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: –¶–≤–µ—Ç–∞ –≤–∏–¥–∏–º–æ–≥–æ —Å–≤–µ—Ç–∞ üåà</h1>

    <div class="content-wrapper">
        <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="panel left-panel">
            <div class="explanation">
                <h3>üî¨ –ß—Ç–æ —Ç–∞–∫–æ–µ –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã?</h3>
                <p>–°–≤–µ—Ç - —ç—Ç–æ –≤–æ–ª–Ω–∞ —ç–Ω–µ—Ä–≥–∏–∏! <strong>–î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã</strong> - —ç—Ç–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ –≤–æ–ª–Ω—ã.</p>
                <div class="info-grid">
                    <div class="info-item" style="color: #8b00ff;">
                        <strong>–§–∏–æ–ª–µ—Ç–æ–≤—ã–π</strong><br>380-450 –Ω–º<br>–°–∞–º—ã–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–æ–ª–Ω—ã<br>–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞
                    </div>
                    <div class="info-item" style="color: #ff0000;">
                        <strong>–ö—Ä–∞—Å–Ω—ã–π</strong><br>625-750 –Ω–º<br>–°–∞–º—ã–µ –¥–ª–∏–Ω–Ω—ã–µ –≤–æ–ª–Ω—ã<br>–ù–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞
                    </div>
                </div>
            </div>

            <div class="spectrum"></div>

            <div class="color-labels">
                <div class="color-label" style="color: #8b00ff; border-color: #8b00ff;">
                    –§–∏–æ–ª–µ—Ç–æ–≤—ã–π<br>380-450 –Ω–º<br>–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞
                </div>
                <div class="color-label" style="color: #0000ff; border-color: #0000ff;">
                    –°–∏–Ω–∏–π<br>450-485 –Ω–º
                </div>
                <div class="color-label" style="color: #00ff00; border-color: #00ff00;">
                    –ó–µ–ª–µ–Ω—ã–π<br>500-565 –Ω–º
                </div>
                <div class="color-label" style="color: #ffff00; border-color: #ffff00;">
                    –ñ–µ–ª—Ç—ã–π<br>565-590 –Ω–º
                </div>
                <div class="color-label" style="color: #ff7f00; border-color: #ff7f00;">
                    –û—Ä–∞–Ω–∂–µ–≤—ã–π<br>590-625 –Ω–º
                </div>
                <div class="color-label" style="color: #ff0000; border-color: #ff0000;">
                    –ö—Ä–∞—Å–Ω—ã–π<br>625-750 –Ω–º<br>–ù–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞
                </div>
            </div>

            <div class="wavelength-markers">
                <span>380 –Ω–º</span>
                <span>450 –Ω–º</span>
                <span>500 –Ω–º</span>
                <span>565 –Ω–º</span>
                <span>590 –Ω–º</span>
                <span>625 –Ω–º</span>
                <span>750 –Ω–º</span>
            </div>

            <div class="slider-container">
                <div class="controls-row">
                    <span style="flex: 1;">üìè –î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã (—á–∞—Å—Ç–æ—Ç–∞):</span>
                    <div class="wavelength-value" id="wavelengthValue">550</div>
                    <div class="color-preview" id="colorPreview"></div>
                </div>
                <input type="range" id="wavelengthSlider" min="380" max="750" value="550">
                <div style="text-align: center; font-size: 0.9em; margin-top: 5px; color: #bdc3c7;">
                    ‚Üê –ö–æ—Ä–æ—Ç–∫–∏–µ –≤–æ–ª–Ω—ã (–≤—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞) | –î–ª–∏–Ω–Ω—ã–µ –≤–æ–ª–Ω—ã (–Ω–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞) ‚Üí
                </div>
            </div>

            <div class="wavelength-display">
                –î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã: <span id="wavelengthDisplay">550</span> –Ω–∞–Ω–æ–º–µ—Ç—Ä–æ–≤ (–Ω–º)
            </div>

            <div class="color-info" id="colorName"></div>

            <div class="fun-fact" id="funFact">
                üí° –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –≥–ª–∞–∑ –ª—É—á—à–µ –≤—Å–µ–≥–æ –≤–∏–¥–∏—Ç –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç!
            </div>
        </div>

        <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="panel right-panel">
            <div class="explanation">
                <h3>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—Ç–æ–≤–æ–π –≤–æ–ª–Ω—ã</h3>
                <p>–ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –ø–æ–∫–∞–∑–∞–Ω–æ, –∫–∞–∫ –∫–æ–ª–µ–±–ª–µ—Ç—Å—è —Å–≤–µ—Ç–æ–≤–∞—è –≤–æ–ª–Ω–∞. <strong>–ß–∞—Å—Ç–æ—Ç–∞ –≤–æ–ª–Ω—ã –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –µ—ë –¥–ª–∏–Ω–µ:</strong></p>
                <div class="info-grid">
                    <div class="info-item">
                        <strong style="color: #ff0000;">–ö—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç</strong><br>620-750 –Ω–º<br>–ù–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞<br>–î–ª–∏–Ω–Ω—ã–µ –ø–ª–∞–≤–Ω—ã–µ –≤–æ–ª–Ω—ã
                    </div>
                    <div class="info-item">
                        <strong style="color: #8b00ff;">–§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å–≤–µ—Ç</strong><br>380-450 –Ω–º<br>–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞<br>–ö–æ—Ä–æ—Ç–∫–∏–µ —á–∞—Å—Ç—ã–µ –≤–æ–ª–Ω—ã
                    </div>
                </div>
                <p><strong>–ê–º–ø–ª–∏—Ç—É–¥–∞</strong> - –≤—ã—Å–æ—Ç–∞ –≤–æ–ª–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å (—è—Ä–∫–æ—Å—Ç—å) —Å–≤–µ—Ç–∞</p>
            </div>

            <!-- –°–ï–ö–¶–ò–Ø –í–û–õ–ù–´ -->
            <div class="wave-section">
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–π –≤–æ–ª–Ω–µ -->
                <div class="wave-header">
                    <div class="wave-info">
                        <div class="wave-info-item" id="waveLengthInfo">–î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã: 550 –Ω–º</div>
                        <div class="wave-info-item" id="waveColorInfo">–¶–≤–µ—Ç: –ó–ï–õ–ï–ù–´–ô</div>
                        <div class="wave-info-item" id="waveFreqInfo">–ß–∞—Å—Ç–æ—Ç–∞: —Å—Ä–µ–¥–Ω—è—è</div>
                    </div>
                </div>

                <!-- Canvas —Å –≤–æ–ª–Ω–æ–π -->
                <div class="wave-container-wrapper">
                    <canvas id="waveCanvas"></canvas>
                </div>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–µ–π -->
                <div class="animation-control">
                    <button class="animation-btn" onclick="toggleAnimation()" id="toggleAnimationBtn">
                        ‚è∏Ô∏è –ü–∞—É–∑–∞
                    </button>
                    <button class="animation-btn" onclick="resetAnimation()">
                        üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
                    </button>
                </div>

                <!-- –°—Ç–∞—Ç—É—Å –∞–Ω–∏–º–∞—Ü–∏–∏ -->
                <div class="animation-status" id="animationStatus">
                    <span id="statusText">‚ú® –ê–Ω–∏–º–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞: –≤–æ–ª–Ω–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–≤–µ—Ç–∞</span>
                </div>
            </div>

            <div class="explanation">
                <h3>üé® –§–∏–∑–∏–∫–∞ —Å–≤–µ—Ç–æ–≤—ã—Ö –≤–æ–ª–Ω</h3>
                <p>‚Ä¢ <strong style="color:#8b00ff">–§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å–≤–µ—Ç</strong> (380-450 –Ω–º) - —Å–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∏ —ç–Ω–µ—Ä–≥–∏—è<br>
                    ‚Ä¢ <strong style="color:#ff0000">–ö—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç</strong> (620-750 –Ω–º) - —Å–∞–º–∞—è –Ω–∏–∑–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∏ —ç–Ω–µ—Ä–≥–∏—è<br>
                    ‚Ä¢ <strong>–°–∫–æ—Ä–æ—Å—Ç—å —Å–≤–µ—Ç–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞</strong> (~300,000 –∫–º/—Å –≤ –≤–∞–∫—É—É–º–µ)<br>
                    ‚Ä¢ <strong>–¶–≤–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–æ—Ç–æ–π</strong> (–æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª–∏–Ω–µ –≤–æ–ª–Ω—ã)<br>
                    ‚Ä¢ –§–æ—Ä–º—É–ª–∞: <em>c = Œª √ó f</em> (—Å–∫–æ—Ä–æ—Å—Ç—å = –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã √ó —á–∞—Å—Ç–æ—Ç–∞)</p>
            </div>

            <div class="fun-fact" style="background: #e74c3c;">
                üî¨ –ù–∞—É—á–Ω—ã–π —Ñ–∞–∫—Ç: –≠–Ω–µ—Ä–≥–∏—è —Ñ–æ—Ç–æ–Ω–∞ –ø—Ä—è–º–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —á–∞—Å—Ç–æ—Ç–µ —Å–≤–µ—Ç–∞!<br>
                <small>E = h √ó f (–≥–¥–µ h - –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ü–ª–∞–Ω–∫–∞)</small>
            </div>
        </div>
    </div>
</div>

<script>
    // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
    const slider = document.getElementById('wavelengthSlider');
    const wavelengthValue = document.getElementById('wavelengthValue');
    const wavelengthDisplay = document.getElementById('wavelengthDisplay');
    const colorName = document.getElementById('colorName');
    const waveCanvas = document.getElementById('waveCanvas');
    const colorPreview = document.getElementById('colorPreview');
    const funFact = document.getElementById('funFact');

    // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–ª–Ω–µ
    const waveLengthInfo = document.getElementById('waveLengthInfo');
    const waveColorInfo = document.getElementById('waveColorInfo');
    const waveFreqInfo = document.getElementById('waveFreqInfo');
    const statusText = document.getElementById('statusText');
    const toggleAnimationBtn = document.getElementById('toggleAnimationBtn');

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ canvas
    const ctx = waveCanvas.getContext('2d');
    let canvasWidth = 0;
    let canvasHeight = 0;

    // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤–æ–ª–Ω—ã
    let isAnimating = true;
    let animationId = null;
    let animationTime = 0;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è canvas
    function initCanvas() {
        const container = document.querySelector('.wave-container-wrapper');
        canvasWidth = container.clientWidth;
        canvasHeight = container.clientHeight;

        waveCanvas.width = canvasWidth;
        waveCanvas.height = canvasHeight;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è —Ü–≤–µ—Ç–∞
    function getColorName(wavelength) {
        if (wavelength < 450) return "–§–ò–û–õ–ï–¢–û–í–´–ô";
        if (wavelength < 485) return "–°–ò–ù–ò–ô";
        if (wavelength < 500) return "–ì–û–õ–£–ë–û–ô";
        if (wavelength < 565) return "–ó–ï–õ–ï–ù–´–ô";
        if (wavelength < 590) return "–ñ–ï–õ–¢–´–ô";
        if (wavelength < 625) return "–û–†–ê–ù–ñ–ï–í–´–ô";
        return "–ö–†–ê–°–ù–´–ô";
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —á–∞—Å—Ç–æ—Ç—ã
    function getFrequencyDescription(wavelength) {
        if (wavelength < 450) return "–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è";
        if (wavelength < 500) return "–≤—ã—Å–æ–∫–∞—è";
        if (wavelength < 590) return "—Å—Ä–µ–¥–Ω—è—è";
        if (wavelength < 650) return "–Ω–∏–∑–∫–∞—è";
        return "–æ—á–µ–Ω—å –Ω–∏–∑–∫–∞—è";
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤
    function getFunFact(wavelength) {
        if (wavelength < 450) return "üíú –§–∏–æ–ª–µ—Ç–æ–≤—ã–π —Å–≤–µ—Ç: —Å–∞–º–∞—è –≤—ã—Å–æ–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –£–§-–ª–∞–º–ø–∞—Ö –¥–ª—è —Å—Ç–µ—Ä–∏–ª–∏–∑–∞—Ü–∏–∏.";
        if (wavelength < 485) return "üíô –°–∏–Ω–∏–π —Å–≤–µ—Ç —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–µ - –ø–æ—ç—Ç–æ–º—É –Ω–µ–±–æ –≥–æ–ª—É–±–æ–µ –¥–Ω—ë–º!";
        if (wavelength < 500) return "üíé –ì–æ–ª—É–±–æ–π - —Å–º–µ—Å—å —Å–∏–Ω–µ–≥–æ –∏ –∑–µ–ª–µ–Ω–æ–≥–æ. –†–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ —á–∏—Å—Ç–æ–º –≤–∏–¥–µ –≤ –ø—Ä–∏—Ä–æ–¥–µ.";
        if (wavelength < 565) return "üíö –ó–µ–ª–µ–Ω—ã–π - –ø–∏–∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –≥–ª–∞–∑–∞! –°–∞–º—ã–π –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Ü–≤–µ—Ç.";
        if (wavelength < 590) return "üíõ –ñ–µ–ª—Ç—ã–π - —Å–∞–º—ã–π –∑–∞–º–µ—Ç–Ω—ã–π —Ü–≤–µ—Ç –¥–Ω—ë–º! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–æ—Ä–æ–∂–Ω—ã—Ö –∑–Ω–∞–∫–∞—Ö –∏ —Ç–∞–∫—Å–∏.";
        if (wavelength < 625) return "üß° –û—Ä–∞–Ω–∂–µ–≤—ã–π —Ö–æ—Ä–æ—à–æ –≤–∏–¥–µ–Ω –≤ —Ç—É–º–∞–Ω–µ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏—Ö –∑–Ω–∞–∫–æ–≤.";
        return "‚ù§Ô∏è –ö—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç –º–µ–Ω—å—à–µ –≤—Å–µ–≥–æ —Ä–∞—Å—Å–µ–∏–≤–∞–µ—Ç—Å—è! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª–∞—Ö –∏ –ø—Ä–æ—Ç–∏–≤–æ—Ç—É–º–∞–Ω–Ω—ã—Ö —Ñ–∞—Ä–∞—Ö.";
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã –≤ RGB
    function wavelengthToColor(wavelength) {
        let r, g, b;

        if (wavelength >= 380 && wavelength < 440) {
            r = 0.3 + 0.7 * (wavelength - 380) / (440 - 380);
            g = 0.0;
            b = 0.8 + 0.2 * (wavelength - 380) / (440 - 380);
        } else if (wavelength >= 440 && wavelength < 490) {
            r = 0.0;
            g = 0.0 + 1.0 * (wavelength - 440) / (490 - 440);
            b = 1.0;
        } else if (wavelength >= 490 && wavelength < 510) {
            r = 0.0;
            g = 1.0;
            b = 1.0 - 1.0 * (wavelength - 490) / (510 - 490);
        } else if (wavelength >= 510 && wavelength < 580) {
            r = 0.0 + 1.0 * (wavelength - 510) / (580 - 510);
            g = 1.0;
            b = 0.0;
        } else if (wavelength >= 580 && wavelength < 645) {
            r = 1.0;
            g = 1.0 - 1.0 * (wavelength - 580) / (645 - 580);
            b = 0.0;
        } else {
            r = 1.0;
            g = 0.0;
            b = 0.0;
        }

        r = Math.floor(r * 255);
        g = Math.floor(g * 255);
        b = Math.floor(b * 255);

        return `rgb(${r}, ${g}, ${b})`;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∫–∏
    function drawGrid() {
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        ctx.lineWidth = 1;

        // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
        const gridSize = 40;
        for(let x = 0; x <= canvasWidth; x += gridSize) {
            ctx.beginPath();
            ctx.moveTo(x, 0);
            ctx.lineTo(x, canvasHeight);
            ctx.stroke();
        }

        // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏
        for(let y = 0; y <= canvasHeight; y += gridSize) {
            ctx.beginPath();
            ctx.moveTo(0, y);
            ctx.lineTo(canvasWidth, y);
            ctx.stroke();
        }

        // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ—Å—å X
        ctx.beginPath();
        ctx.moveTo(0, canvasHeight / 2);
        ctx.lineTo(canvasWidth, canvasHeight / 2);
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
        ctx.lineWidth = 2;
        ctx.stroke();
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–ª–Ω–µ
    function updateWaveInfo(wavelength) {
        waveLengthInfo.textContent = `–î–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã: ${wavelength} –Ω–º`;
        waveColorInfo.textContent = `–¶–≤–µ—Ç: ${getColorName(wavelength)}`;
        waveFreqInfo.textContent = `–ß–∞—Å—Ç–æ—Ç–∞: ${getFrequencyDescription(wavelength)}`;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —á–∞—Å—Ç–æ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã
    // c = Œª √ó f => f = c / Œª
    // c ‚âà 3√ó10^8 –º/—Å = 3√ó10^17 –Ω–º/—Å
    function calculateFrequency(wavelength) {
        const speedOfLight = 3e17; // –Ω–º/—Å
        return speedOfLight / wavelength; // –ì—Ü
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤–æ–ª–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã
    function getWaveParams(wavelength) {
        // –ß–∞—Å—Ç–æ—Ç–∞ –æ–±—Ä–∞—Ç–Ω–æ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª–∏–Ω–µ –≤–æ–ª–Ω—ã
        // –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏: –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–æ–ª–Ω—ã = –≤—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ = –±–æ–ª—å—à–µ –≤–æ–ª–Ω –Ω–∞ —ç–∫—Ä–∞–Ω–µ
        const baseFrequency = 750 / wavelength; // 750 - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –≤–æ–ª–Ω—ã

        return {
            amplitude: 35, // –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∞–º–ø–ª–∏—Ç—É–¥–∞
            frequency: baseFrequency * 2, // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è –ª—É—á—à–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
            color: wavelengthToColor(wavelength)
        };
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–æ–ª–Ω—ã
    function animateWave() {
        if (!isAnimating) return;

        animationTime += 0.03;
        const wavelength = parseInt(slider.value);
        const params = getWaveParams(wavelength);

        ctx.clearRect(0, 0, canvasWidth, canvasHeight);
        drawGrid();

        // –†–∏—Å—É–µ–º –≤–æ–ª–Ω—É
        ctx.beginPath();
        ctx.lineWidth = 3;
        ctx.strokeStyle = params.color;

        // –†–∏—Å—É–µ–º –≤–æ–ª–Ω—É —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π
        for(let x = 0; x < canvasWidth; x++) {
            // –ß–∞—Å—Ç–æ—Ç–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–ª–∏–Ω—ã –≤–æ–ª–Ω—ã: –∫–æ—Ä–æ—Ç–∫–∏–µ –≤–æ–ª–Ω—ã = –±–æ–ª—å—à–µ –∫–æ–ª–µ–±–∞–Ω–∏–π
            const y = Math.sin(x / 30 * params.frequency + animationTime) * params.amplitude + canvasHeight / 2;
            if (x === 0) {
                ctx.moveTo(x, y);
            } else {
                ctx.lineTo(x, y);
            }
        }

        ctx.stroke();

        // –ü–æ–¥–≤–∏–∂–Ω–∞—è —Ç–æ—á–∫–∞ (—Ñ–æ—Ç–æ–Ω)
        const photonX = (canvasWidth / 3 + Math.sin(animationTime * 0.5) * 50) % canvasWidth;
        const photonY = Math.sin(photonX / 30 * params.frequency + animationTime) * params.amplitude + canvasHeight / 2;

        // –†–∏—Å—É–µ–º —Ñ–æ—Ç–æ–Ω
        ctx.beginPath();
        ctx.arc(photonX, photonY, 8, 0, Math.PI * 2);
        ctx.fillStyle = params.color;
        ctx.fill();
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 2;
        ctx.stroke();

        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Å—Ç–æ—Ç–µ
        const actualFrequency = calculateFrequency(wavelength);
        ctx.fillStyle = 'white';
        ctx.font = 'bold 12px Arial';
        ctx.fillText(`f = c/Œª ‚âà ${(actualFrequency / 1e14).toFixed(2)} √ó 10¬π‚Å¥ –ì—Ü`, 10, 20);
        ctx.fillText(`Œª = ${wavelength} –Ω–º`, 10, 40);

        updateWaveInfo(wavelength);

        animationId = requestAnimationFrame(animateWave);
    }

    // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–µ–π
    function toggleAnimation() {
        isAnimating = !isAnimating;

        if (isAnimating) {
            statusText.textContent = '‚ú® –ê–Ω–∏–º–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞: –≤–æ–ª–Ω–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ —Å–∫–æ—Ä–æ—Å—Ç—å—é —Å–≤–µ—Ç–∞';
            toggleAnimationBtn.textContent = '‚è∏Ô∏è –ü–∞—É–∑–∞';
            animateWave();
        } else {
            statusText.textContent = '‚è∏Ô∏è –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞ –ø–∞—É–∑–µ';
            toggleAnimationBtn.textContent = '‚ñ∂Ô∏è –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å';
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
            // –†–∏—Å—É–µ–º —Å—Ç–∞—Ç–∏—á–Ω—É—é –≤–æ–ª–Ω—É
            const wavelength = parseInt(slider.value);
            const params = getWaveParams(wavelength);

            ctx.clearRect(0, 0, canvasWidth, canvasHeight);
            drawGrid();

            ctx.beginPath();
            ctx.lineWidth = 3;
            ctx.strokeStyle = params.color;

            for(let x = 0; x < canvasWidth; x++) {
                const y = Math.sin(x / 30 * params.frequency) * params.amplitude + canvasHeight / 2;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }

            ctx.stroke();
            updateWaveInfo(wavelength);
        }
    }

    function resetAnimation() {
        animationTime = 0;
        if (!isAnimating) {
            toggleAnimation();
        }
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–ª–∞–π–¥–µ—Ä–∞
    function updateInterface() {
        const wavelength = parseInt(slider.value);
        const color = wavelengthToColor(wavelength);
        const name = getColorName(wavelength);

        // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
        wavelengthValue.textContent = wavelength;
        wavelengthDisplay.textContent = wavelength;
        colorName.textContent = `üé® –¢–µ–∫—É—â–∏–π —Ü–≤–µ—Ç: ${name}`;
        colorName.style.color = color;
        colorName.style.border = `2px solid ${color}`;

        // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é —Ü–≤–µ—Ç–∞
        colorPreview.style.background = color;
        colorPreview.style.boxShadow = `0 0 15px ${color}`;

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç
        funFact.textContent = getFunFact(wavelength);
        funFact.style.border = `2px solid ${color}`;

        updateWaveInfo(wavelength);
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
    slider.addEventListener('input', updateInterface);

    // –†–µ—Å–∞–π–∑ canvas –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
    window.addEventListener('resize', function() {
        initCanvas();
        if (!isAnimating) {
            // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏—á–Ω—É—é –≤–æ–ª–Ω—É
            const wavelength = parseInt(slider.value);
            const params = getWaveParams(wavelength);

            ctx.clearRect(0, 0, canvasWidth, canvasHeight);
            drawGrid();

            ctx.beginPath();
            ctx.lineWidth = 3;
            ctx.strokeStyle = params.color;

            for(let x = 0; x < canvasWidth; x++) {
                const y = Math.sin(x / 30 * params.frequency) * params.amplitude + canvasHeight / 2;
                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }

            ctx.stroke();
        }
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    function init() {
        initCanvas();
        updateInterface();
        animateWave();
    }

    // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>